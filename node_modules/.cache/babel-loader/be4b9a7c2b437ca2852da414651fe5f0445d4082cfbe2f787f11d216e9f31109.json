{"ast":null,"code":"import ArrowUp from \"./icon/ArrowUp.vue\";\nimport ArrowDown from \"./icon/ArrowDown.vue\";\nimport MutationsType from \"../store/mutationsType\";\nexport default {\n  name: \"calendar-main\",\n  components: {\n    ArrowUp,\n    ArrowDown\n  },\n  data: () => {\n    return {\n      weeksList: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"]\n    };\n  },\n  methods: {\n    clickDay(index) {\n      this.selectIndex = index;\n    },\n    nextMonth() {\n      this.$store.commit(MutationsType.NEXT_MONTH);\n    },\n    prevMonth() {\n      this.$store.commit(MutationsType.PREV_MONTH);\n    },\n    changeSelectedDate() {\n      this.$store.commit(MutationsType.CREATE_CALENDAR_LIST, {\n        year: this.selectYear,\n        month: this.selectMonth\n      });\n    }\n  },\n  created() {\n    this.selectYear = this.currentDate.year;\n    this.selectMonth = this.currentDate.month;\n    this.changeSelectedDate();\n    this.calendarList.forEach((calendarData, index) => {\n      if (calendarData.isToday) {\n        this.selectIndex = index;\n      }\n    });\n  },\n  watch: {\n    selectMonth() {\n      this.changeSelectedDate();\n    }\n  },\n  computed: {\n    calendarList() {\n      return this.$store.state.calendarList;\n    },\n    currentDate() {\n      return this.$store.state.currentDate;\n    },\n    selectedDate() {\n      return `${this.selectYear}年${this.selectMonth}月`;\n    },\n    selectIndex: {\n      get() {\n        return this.$store.state.selectIndex;\n      },\n      set(val) {\n        this.$store.commit(MutationsType.SET_SELECT_INDEX, val);\n      }\n    },\n    selectMonth: {\n      get() {\n        return this.$store.state.selectMonth;\n      },\n      set(val) {\n        this.$store.commit(MutationsType.SET_SELECE_MONTH, val);\n      }\n    },\n    selectYear: {\n      get() {\n        return this.$store.state.selectYear;\n      },\n      set(val) {\n        this.$store.commit(MutationsType.SET_SELECT_YEAR, val);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AA0CA;AACA;AACA;AACA;EACAA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;IACAP;MACAM;QACA;MACA;MACAC;QACA;MACA;IACA;IACAC;MACAF;QACA;MACA;MACAC;QACA;MACA;IACA;EACA;AACA","names":["name","components","ArrowUp","ArrowDown","data","weeksList","methods","clickDay","nextMonth","prevMonth","changeSelectedDate","year","month","created","watch","selectMonth","computed","calendarList","currentDate","selectedDate","selectIndex","get","set","selectYear"],"sourceRoot":"src/components","sources":["CalendarMain.vue"],"sourcesContent":["<template>\r\n  <div class=\"calendar-main\">\r\n    <div class=\"main-header\">\r\n      <span class=\"seleted-date\">{{ selectedDate }}</span>\r\n      <div class=\"select-button\">\r\n        <div class=\"arrow-up\" @click=\"prevMonth\">\r\n          <arrow-up fill-color=\"#fff\" />\r\n        </div>\r\n        <div class=\"arrow-down\" @click=\"nextMonth\">\r\n          <arrow-down fill-color=\"#fff\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"main-content\">\r\n      <div class=\"calendar-week\">\r\n        <span class=\"week-item\" v-for=\"(week, index) in weeksList\" :key=\"index\"\r\n          >{{ week }}\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"calendar-day\">\r\n        <div\r\n          class=\"day-item\"\r\n          v-for=\"(day, index) in calendarList\"\r\n          :key=\"index\"\r\n          @click=\"clickDay(index)\"\r\n          :class=\"[\r\n            day.disable ? 'day-disable-color' : '',\r\n            day.isToday ? 'current-day-bc' : '',\r\n            index === selectIndex ? 'select-day-border' : 'no-select-day',\r\n          ]\"\r\n        >\r\n          <span>{{ day.cDay }}</span>\r\n          <span>{{ day.term || day.dayCn }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ArrowUp from \"./icon/ArrowUp.vue\";\r\nimport ArrowDown from \"./icon/ArrowDown.vue\";\r\nimport MutationsType from \"../store/mutationsType\";\r\nexport default {\r\n  name: \"calendar-main\",\r\n  components: { ArrowUp, ArrowDown },\r\n  data: () => {\r\n    return {\r\n      weeksList: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"],\r\n    };\r\n  },\r\n  methods: {\r\n    clickDay(index) {\r\n      this.selectIndex = index;\r\n    },\r\n    nextMonth() {\r\n      this.$store.commit(MutationsType.NEXT_MONTH);\r\n    },\r\n    prevMonth() {\r\n      this.$store.commit(MutationsType.PREV_MONTH);\r\n    },\r\n    changeSelectedDate() {\r\n      this.$store.commit(MutationsType.CREATE_CALENDAR_LIST, {\r\n        year: this.selectYear,\r\n        month: this.selectMonth,\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.selectYear = this.currentDate.year;\r\n    this.selectMonth = this.currentDate.month;\r\n    this.changeSelectedDate();\r\n    this.calendarList.forEach((calendarData, index) => {\r\n      if (calendarData.isToday) {\r\n        this.selectIndex = index;\r\n      }\r\n    });\r\n  },\r\n  watch: {\r\n    selectMonth() {\r\n      this.changeSelectedDate();\r\n    },\r\n  },\r\n  computed: {\r\n    calendarList() {\r\n      return this.$store.state.calendarList;\r\n    },\r\n    currentDate() {\r\n      return this.$store.state.currentDate;\r\n    },\r\n    selectedDate() {\r\n      return `${this.selectYear}年${this.selectMonth}月`;\r\n    },\r\n    selectIndex: {\r\n      get() {\r\n        return this.$store.state.selectIndex;\r\n      },\r\n      set(val) {\r\n        this.$store.commit(MutationsType.SET_SELECT_INDEX, val);\r\n      },\r\n    },\r\n    selectMonth: {\r\n      get() {\r\n        return this.$store.state.selectMonth;\r\n      },\r\n      set(val) {\r\n        this.$store.commit(MutationsType.SET_SELECE_MONTH, val);\r\n      },\r\n    },\r\n    selectYear: {\r\n      get() {\r\n        return this.$store.state.selectYear;\r\n      },\r\n      set(val) {\r\n        this.$store.commit(MutationsType.SET_SELECT_YEAR, val);\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.calendar-main {\r\n  .main-header {\r\n    display: flex;\r\n\r\n    justify-content: space-between;\r\n\r\n    align-items: center;\r\n\r\n    padding: 10px 20px 10px 20px;\r\n\r\n    font-weight: 200;\r\n\r\n    font-size: 14px;\r\n\r\n    opacity: 0.7;\r\n\r\n    .select-button {\r\n      display: flex;\r\n\r\n      flex-direction: row;\r\n\r\n      align-items: center;\r\n\r\n      font-weight: 200;\r\n\r\n      .arrow-up {\r\n        margin-right: 20px;\r\n      }\r\n\r\n      .arrow-up,\r\n      .arrow-down {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n\r\n  .main-content {\r\n    padding-bottom: 5px;\r\n\r\n    padding: 0 20px 20px 20px;\r\n\r\n    .calendar-week {\r\n      display: flex;\r\n\r\n      justify-content: center;\r\n\r\n      align-items: center;\r\n\r\n      gap: 5px;\r\n\r\n      margin-bottom: 10px;\r\n\r\n      .week-item {\r\n        width: 40px;\r\n\r\n        text-align: center;\r\n\r\n        font-size: 13px;\r\n      }\r\n    }\r\n\r\n    .calendar-day {\r\n      display: flex;\r\n\r\n      flex-wrap: wrap;\r\n\r\n      justify-content: flex-start;\r\n\r\n      gap: 5px;\r\n\r\n      .day-item {\r\n        width: 40px;\r\n\r\n        height: 38px;\r\n\r\n        text-align: center;\r\n\r\n        box-sizing: border-box;\r\n\r\n        font-size: 10px;\r\n\r\n        display: flex;\r\n\r\n        flex-direction: column;\r\n\r\n        justify-content: center;\r\n\r\n        align-items: center;\r\n\r\n        cursor: default;\r\n\r\n        &:hover {\r\n          border: 2px solid rgba(238, 238, 238, 0.3);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}