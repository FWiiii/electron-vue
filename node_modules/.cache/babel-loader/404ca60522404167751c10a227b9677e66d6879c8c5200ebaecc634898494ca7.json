{"ast":null,"code":"import CloseIcon from \"./icon/CloseIcon.vue\";\nimport TimeLine from \"./icon/TimeLine.vue\";\nimport MapLine from \"./icon/MapLine.vue\";\nimport MutationsType from \"../store/mutationsType\";\nexport default {\n  name: \"calendar-footer\",\n  components: {\n    CloseIcon,\n    TimeLine,\n    MapLine\n  },\n  data: () => {\n    return {\n      eventObj: {\n        startTime: \"\",\n        endTime: \"\",\n        eventText: \"\",\n        eventPlace: \"\"\n      }\n    };\n  },\n  methods: {\n    closeAddEventInput() {\n      this.eventObj.eventText = \"\";\n    },\n    createEventObject() {\n      return {\n        eventYear: this.selectedData.cYear,\n        eventMonth: this.selectedData.cMonth,\n        eventDate: this.selectedData.cDay,\n        startTime: this.eventObj.startTime,\n        endTime: this.eventObj.endTime,\n        eventText: this.eventObj.eventText,\n        eventPlace: this.eventObj.eventPlace\n      };\n    },\n    addEvent() {\n      let eventObject = this.createEventObject();\n      this.$store.commit(MutationsType.ADD_EVENT, eventObject);\n      this.eventObj = {\n        startTime: \"\",\n        endTime: \"\",\n        eventText: \"\",\n        eventPlace: \"\"\n      };\n    },\n    delEvent(event) {\n      this.$store.commit(MutationsType.DEL_EVENT, event);\n    }\n  },\n  computed: {\n    selectIndex() {\n      return this.$store.state.selectIndex;\n    },\n    eventList() {\n      return this.$store.state.eventList;\n    },\n    showEvent() {\n      return this.$store.state.showEvent;\n    },\n    selectedData() {\n      return this.$store.getters.selectedData;\n    },\n    todayText() {\n      return this.$store.getters.todayText;\n    },\n    currentDayEvent() {\n      return this.$store.getters.currentDayEvent;\n    },\n    eventTextLength() {\n      return this.eventObj.eventText.length;\n    },\n    currentDayHasEvent() {\n      return this.currentDayEvent.length === 0;\n    }\n  }\n};","map":{"version":3,"mappings":"AA4FA;AAEA;AAEA;AAEA;AAEA;EACAA;EAEAC;IAAAC;IAAAC;IAAAC;EAAA;EAEAC;IACA;MACAC;QACAC;QAEAC;QAEAC;QAEAC;MACA;IACA;EACA;EAEAC;IACAC;MACA;IACA;IAEAC;MACA;QACAC;QAEAC;QAEAC;QAEAT;QAEAC;QAEAC;QAEAC;MACA;IACA;IAEAO;MACA;MAEA;MAEA;QACAV;QAEAC;QAEAC;QAEAC;MACA;IACA;IAEAQ;MACA;IACA;EACA;EAEAC;IACAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;EACA;AACA","names":["name","components","CloseIcon","TimeLine","MapLine","data","eventObj","startTime","endTime","eventText","eventPlace","methods","closeAddEventInput","createEventObject","eventYear","eventMonth","eventDate","addEvent","delEvent","computed","selectIndex","eventList","showEvent","selectedData","todayText","currentDayEvent","eventTextLength","currentDayHasEvent"],"sourceRoot":"src/components","sources":["CalendarFooter.vue"],"sourcesContent":["<template>\n  <div class=\"calendar-footer\" v-show=\"showEvent\">\n    <div class=\"footer-title\">\n      <div class=\"today-text\">\n        {{ todayText }}\n      </div>\n\n      <div\n        class=\"close-icon\"\n        @click=\"closeAddEventInput\"\n        v-if=\"eventTextLength\"\n      >\n        <close-icon fill-color=\"#fff\" />\n      </div>\n    </div>\n\n    <div class=\"add-notice-input\">\n      <input\n        type=\"text\"\n        placeholder=\"添加事件或提醒\"\n        v-model=\"eventObj.eventText\"\n      />\n\n      <div class=\"option\" v-if=\"eventTextLength\">\n        <select>\n          <option value=\"日历\">日历</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"show-event-info\">\n      <div class=\"today-event\" v-if=\"!eventTextLength\">\n        <span class=\"no-event-text\" v-if=\"currentDayHasEvent\">无事件</span>\n\n        <template v-else>\n          <div\n            class=\"event-item\"\n            v-for=\"(event, index) in currentDayEvent\"\n            :key=\"index\"\n            @contextmenu.prevent=\"delEvent(event)\"\n          >\n            <div class=\"color-item\"></div>\n\n            <div class=\"event-time\">\n              <span class=\"start-time\">{{ event.startTime }}</span>\n\n              <span class=\"end-time\">{{ event.endTime }}</span>\n            </div>\n\n            <div class=\"event-text\">\n              <span>{{ event.eventText }}</span>\n            </div>\n          </div>\n        </template>\n      </div>\n\n      <div class=\"event-config\" v-else>\n        <div class=\"choose-time\">\n          <time-line />\n\n          <div class=\"start-time\">\n            <input type=\"time\" v-model=\"eventObj.startTime\" />\n          </div>\n\n          <div>到</div>\n\n          <div class=\"end-time\">\n            <input type=\"time\" v-model=\"eventObj.endTime\" />\n          </div>\n        </div>\n\n        <div class=\"choose-place\">\n          <map-line />\n\n          <input\n            type=\"text\"\n            placeholder=\"添加位置\"\n            v-model=\"eventObj.eventPlace\"\n          />\n        </div>\n\n        <div class=\"footer-button\" v-if=\"eventTextLength\">\n          <button class=\"add-event\" @click=\"addEvent\">保存</button>\n\n          <button class=\"more-info\">更多详细信息</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CloseIcon from \"./icon/CloseIcon.vue\";\n\nimport TimeLine from \"./icon/TimeLine.vue\";\n\nimport MapLine from \"./icon/MapLine.vue\";\n\nimport MutationsType from \"../store/mutationsType\";\n\nexport default {\n  name: \"calendar-footer\",\n\n  components: { CloseIcon, TimeLine, MapLine },\n\n  data: () => {\n    return {\n      eventObj: {\n        startTime: \"\",\n\n        endTime: \"\",\n\n        eventText: \"\",\n\n        eventPlace: \"\",\n      },\n    };\n  },\n\n  methods: {\n    closeAddEventInput() {\n      this.eventObj.eventText = \"\";\n    },\n\n    createEventObject() {\n      return {\n        eventYear: this.selectedData.cYear,\n\n        eventMonth: this.selectedData.cMonth,\n\n        eventDate: this.selectedData.cDay,\n\n        startTime: this.eventObj.startTime,\n\n        endTime: this.eventObj.endTime,\n\n        eventText: this.eventObj.eventText,\n\n        eventPlace: this.eventObj.eventPlace,\n      };\n    },\n\n    addEvent() {\n      let eventObject = this.createEventObject();\n\n      this.$store.commit(MutationsType.ADD_EVENT, eventObject);\n\n      this.eventObj = {\n        startTime: \"\",\n\n        endTime: \"\",\n\n        eventText: \"\",\n\n        eventPlace: \"\",\n      };\n    },\n\n    delEvent(event) {\n      this.$store.commit(MutationsType.DEL_EVENT, event);\n    },\n  },\n\n  computed: {\n    selectIndex() {\n      return this.$store.state.selectIndex;\n    },\n\n    eventList() {\n      return this.$store.state.eventList;\n    },\n\n    showEvent() {\n      return this.$store.state.showEvent;\n    },\n\n    selectedData() {\n      return this.$store.getters.selectedData;\n    },\n\n    todayText() {\n      return this.$store.getters.todayText;\n    },\n\n    currentDayEvent() {\n      return this.$store.getters.currentDayEvent;\n    },\n\n    eventTextLength() {\n      return this.eventObj.eventText.length;\n    },\n\n    currentDayHasEvent() {\n      return this.currentDayEvent.length === 0;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.calendar-footer {\n  position: relative;\n\n  .footer-title {\n    display: flex;\n\n    justify-content: space-between;\n\n    align-items: center;\n\n    padding: 10px 13px 0 20px;\n\n    .today-text {\n      color: #fff;\n\n      font-size: 17px;\n    }\n\n    .close-icon {\n      font-size: 20px;\n\n      line-height: 20px;\n    }\n  }\n\n  .add-notice-input {\n    display: flex;\n\n    flex-direction: row;\n\n    align-items: center;\n\n    margin-bottom: 10px;\n\n    padding: 10px 20px 0 20px;\n\n    input {\n      font-family: inherit;\n\n      width: 100%;\n\n      font-size: 13px;\n\n      box-sizing: border-box;\n\n      outline: solid 1px #ffffff4d;\n\n      border: 0;\n\n      padding: 8px;\n\n      color: #fff;\n\n      background-color: #ffffff1a;\n\n      height: 30px;\n\n      &::placeholder {\n        color: #d1d5db;\n      }\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.5);\n      }\n\n      &:focus {\n        color: #000;\n\n        background-color: #fff;\n\n        outline: solid 1px #a5f3fc;\n      }\n    }\n\n    .without-text {\n      width: 100%;\n    }\n\n    .with-text {\n      width: 75%;\n    }\n\n    .option {\n      width: 35%;\n\n      position: relative;\n\n      height: 30px;\n\n      box-sizing: border-box;\n\n      outline: solid 1px #ffffff4d;\n\n      margin-left: 1px;\n\n      select {\n        font-size: 13px;\n\n        appearance: none;\n\n        width: 100%;\n\n        height: 100%;\n\n        border: none;\n\n        outline: none;\n\n        box-sizing: border-box;\n\n        font-family: inherit;\n\n        background-color: #ffffff1a;\n\n        color: #fff;\n\n        position: relative;\n\n        padding-left: 30px;\n\n        &:hover {\n          background-color: rgba(0, 0, 0, 0.5);\n        }\n\n        &:focus {\n          color: #000;\n\n          background-color: #fff;\n\n          outline: solid 1px #a5f3fc;\n        }\n      }\n\n      &:after {\n        content: \"\";\n\n        width: 14px;\n\n        height: 14px;\n\n        border-radius: 50%;\n\n        background-color: #38bff880;\n\n        border: 1px #fff solid;\n\n        position: absolute;\n\n        left: 9px;\n\n        top: 7px;\n      }\n    }\n  }\n\n  .show-event-info {\n    height: 150px;\n\n    overflow: auto;\n\n    &::-webkit-scrollbar {\n      width: 3px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 10px;\n\n      background: rgba(238, 238, 238, 0.5);\n    }\n\n    &::-webkit-scrollbar-track {\n      border-radius: 0;\n\n      background: transparent;\n    }\n\n    .today-event {\n      color: #fff;\n\n      font-size: 13px;\n\n      display: flex;\n\n      flex-direction: column;\n\n      justify-content: center;\n\n      align-items: flex-start;\n\n      .no-event-text {\n        padding: 10px 20px 0 20px;\n      }\n\n      .event-item {\n        height: 50px;\n\n        width: 100%;\n\n        box-sizing: border-box;\n\n        display: flex;\n\n        justify-content: flex-start;\n\n        align-items: center;\n\n        margin-bottom: 3px;\n\n        font-size: 10px;\n\n        gap: 10px;\n\n        &:hover {\n          background-color: #b3aeaed0;\n        }\n\n        .event-time {\n          padding: 0 8px;\n\n          display: flex;\n\n          flex-direction: column;\n\n          justify-content: center;\n\n          align-items: center;\n\n          margin-right: 25px;\n\n          .end-time {\n            opacity: 0.5;\n          }\n        }\n\n        .event-text {\n          position: relative;\n\n          height: 30px;\n\n          span {\n            position: absolute;\n\n            top: 0;\n\n            left: 0;\n\n            display: block;\n\n            word-break: keep-all;\n\n            white-space: nowrap;\n\n            overflow: hidden;\n\n            text-overflow: ellipsis;\n\n            font-size: 14px;\n          }\n        }\n\n        .color-item {\n          height: 100%;\n\n          width: 8px;\n\n          background-color: #38bff880;\n        }\n      }\n    }\n\n    .event-config {\n      display: flex;\n\n      flex-direction: column;\n\n      gap: 20px;\n\n      padding: 0 20px;\n\n      input {\n        width: 100%;\n\n        box-sizing: border-box;\n\n        outline: none;\n\n        border: none;\n\n        border-bottom: 1px rgba(255, 255, 255, 0.2) solid;\n\n        padding: 8px;\n\n        background: transparent;\n\n        color: #fff;\n\n        font-family: inherit;\n\n        &::placeholder {\n          color: #d1d5db;\n        }\n\n        &:hover {\n          background-color: rgba(0, 0, 0, 0.5);\n        }\n\n        &:focus {\n          color: #000;\n\n          background-color: #fff;\n\n          outline: solid 1px #a5f3fc;\n        }\n      }\n\n      .choose-time {\n        display: flex;\n\n        gap: 15px;\n\n        align-items: center;\n\n        .start-time,\n        .end-time {\n          input {\n            text-align: center;\n\n            width: 60px;\n\n            appearance: none;\n\n            &::-webkit-calendar-picker-indicator {\n              opacity: 0;\n\n              position: absolute;\n            }\n\n            &:hover {\n              background-color: rgba(255, 255, 255, 0.5);\n            }\n\n            &:focus {\n              color: #000;\n\n              background-color: #fff;\n\n              outline: none;\n            }\n          }\n        }\n      }\n\n      .choose-place {\n        display: flex;\n\n        gap: 15px;\n\n        align-items: center;\n\n        font-weight: 200;\n\n        width: 100%;\n      }\n    }\n  }\n\n  .footer-button {\n    display: flex;\n\n    justify-content: flex-end;\n\n    align-items: center;\n\n    gap: 10px;\n\n    .add-event {\n      font-size: 13px;\n\n      padding: 5px 30px;\n\n      background-color: #38bff880;\n\n      border: 2px solid transparent;\n\n      color: #fff;\n\n      &:hover {\n        border: 2px solid #2cb7f3e5;\n      }\n    }\n\n    .more-info {\n      font-size: 13px;\n\n      padding: 5px 10px;\n\n      background-color: rgba(238, 238, 238, 0.5);\n\n      border: 2px solid transparent;\n\n      color: #fff;\n\n      &:hover {\n        border: 2px solid rgba(255, 255, 255, 0.3);\n      }\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}